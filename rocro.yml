---
inspecode:
  global:
    ignore:
      - 'node_modules'

  tools:
    clang-format:
      auto-fix: true
      thresholds: { num-issues: 732 }

    cpd:
      - options: [--skip-lexical-errors]
        thresholds: { num-issues: 167 }
      - ignore: '**/__tests__/'
        options: [--skip-lexical-errors]
        thresholds: { num-issues: 81 }

    eslint:
      auto-fix: true
      thresholds: { num-issues: 0 }

    flow:
      thresholds: { num-issues: 0 } # found no input files

    # fortify:
    #   thresholds: {num-issues: 999}

    fossology:
      thresholds: { num-issues: 4 }

    grep:
      thresholds: { num-issues: 181 }

    htmlhint:
      - thresholds: { num-issues: 5 }
      - ignore: '**/__tests__/'
        thresholds: { num-issues: 0 } # excluded all analyzable files by input/ignore patterns

    jscpd:
      - thresholds: { num-issues: 670 }
      - ignore: '**/__tests__/'
        thresholds: { num-issues: 375 }

    jshint:
      config-file: 'inspecode-jshintrc.json'
      thresholds: { num-issues: 119 }

    misspell:
      auto-fix: true
      thresholds: { num-issues: 6 }

    npm-audit:
      auto-fix: true
      thresholds: { num-issues: 1 }

    npm-test:
      thresholds: { num-issues: 2 }

    phpcs:
      - options:
          --sniffs: ['Generic.ControlStructures.InlineControlStructure']
        thresholds: { num-issues: 133 }
      - options:
          --sniffs: ['PEAR.ControlStructures.MultiLineCondition']
        thresholds: { num-issues: 680 }
      - options:
          --sniffs: ['PEAR.Functions.FunctionDeclaration']
        thresholds: { num-issues: 672 }

    pmd:
      - machine: { cpu: 1.0 }
        thresholds: { num-issues: 999 } # Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
      - machine: { cpu: 1.1 }
        thresholds: { num-issues: 999 }

    prettier:
      thresholds: { num-issues: 0 } # [error] Invalid configuration file `.github/ISSUE_TEMPLATE/REPORT_A_BUG.md`: Cannot find module '@stylelint/prettier-config'

    stylelint:
      - auto-fix: false # auto-fix task ... stylelint timed out.
        thresholds: { num-issues: 999 } # Error: Cannot find module 'lodash' (codelift-plugins#1796)
      - ignore: '**/__tests__/'
        # auto-fix: true                # auto-fix task ... stylelint timed out.
        thresholds: { num-issues: 999 } # too many issues detected: 1102 > 1000

    tidy:
      - auto-fix: true
        thresholds: { num-issues: 19 }
      - ignore: '**/__tests__/'
        thresholds: { num-issues: 0 } # excluded all analyzable files by input/ignore patterns

    # understand:
    #   thresholds: {num-issues: 999}

    unused:
      options: [--single-occurrence, --all-likelihoods]
      thresholds: { num-issues: 8 }
